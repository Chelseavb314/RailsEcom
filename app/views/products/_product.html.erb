<div class="column is-one-fifth">
  <div class="card box">
    <!-- Shows image if available -->
    <% if product.image.present? %>
      <div class="card-image">
        <figure class="image is-2-5">
          <%= image_tag product.image.variant(resize_to_limit:[250,250]) %>
        </figure>
      </div>
    <%end%>
    <!-- product name and price -->
    <div class="card-content has-text-centered">
      <p class=""><%= link_to product.name, product %></p>
      <p class="subtitle mt-2"><%= link_to number_to_currency(product.price), product%></p>
    </div>
    <footer class="card-footer is-justify-content-center">
      <!--Add to cart buttons for cards -->
      <% if cart.include?(product) %>
        <%= link_to cart_path(product), method: :delete, class: "card-footer-item" do %>
          X Remove From Cart
        <% end %>
      <% else %>
        <%= form_with url: cart_index_path, method: :post do %>
          <%= hidden_field_tag(:id, product.id) %>
          <%= link_to 'Add to Cart', class: "card-footer-item" %>
        <% end %>
      <% end %>
    </footer>
  </div>
</div>
